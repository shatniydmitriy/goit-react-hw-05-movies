{"version":3,"file":"static/js/160.6c855b42.chunk.js","mappings":"+QACA,EAA8B,8B,SCKxBA,EAAW,WACf,OAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,SAERE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAc,mCAAG,sGAEnBN,GAAW,GAFQ,UAGEO,EAAAA,EAAAA,IAAaJ,GAHf,OAGbK,EAHa,OAKnBV,EAAUU,GALS,gDAMVC,EANU,KAMVA,SACTP,EAASO,EAASC,KAAKC,SAPJ,yBASnBX,GAAW,GATQ,4EAAH,qDAYpBM,GACD,GAAE,CAACH,IAEJ,IAAMS,EAAWf,EAAOgB,KACtB,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,UAAWC,EAAlB,EAAkBA,cAAeC,EAAjC,EAAiCA,aAAjC,OACE,2BACE,gBACEC,MAAM,MACNC,OAAO,MACPC,IACEH,EACI,kCAAoCA,EACpC,0FAENI,IAAKL,KAEP,uBAAIA,KACJ,uCAAeD,OAZRD,EADX,IAiBF,OACE,gCACGf,IAAW,sCACXE,IAAS,iCACTJ,IACC,gBAAKyB,UAAWC,EAAhB,UACE,wBAAKX,MAGU,IAAlBf,EAAO2B,SACN,uEAIP,EACD,IAEA7B,EAAS8B,aAAe,CACtB5B,OAAQ6B,IAAAA,QACNA,IAAAA,MAAgB,CACdZ,GAAIY,IAAAA,OAAAA,WACJX,UAAWW,IAAAA,OAAAA,WACXV,cAAeU,IAAAA,OAAAA,WACfT,aAAcS,IAAAA,OAAAA,aACbC,YACHA,W,yLCtEEC,E,QAAWC,EAAAA,OAAa,CAC5BC,QAAS,+BACTC,OAAQ,CACNC,QAAS,mCACTC,SAAU,WAIDC,EAAe,mCAAG,2GAAOC,EAAP,+BAAc,EAAd,SACNP,EAASQ,IAC9B,sBACA,CACEL,OAAQ,CACNI,KAAAA,KALuB,uBACrBzB,EADqB,EACrBA,KADqB,kBAStBA,EAAK2B,SATiB,2CAAH,qDAYfC,EAAe,mCAAG,WAAMnC,GAAN,yFACNyB,EAASQ,IAAT,iBAAuBjC,IADjB,uBACrBO,EADqB,EACrBA,KADqB,kBAEtBA,GAFsB,2CAAH,sDAKf6B,EAAc,mCAAG,WAAMC,GAAN,yFACLZ,EAASQ,IAAT,gBAA8B,CACnDL,OAAQ,CACNS,MAAAA,KAHwB,uBACpB9B,EADoB,EACpBA,KADoB,kBAMrBA,EAAK2B,SANgB,2CAAH,sDASd9B,EAAY,mCAAG,WAAMJ,GAAN,yFACHyB,EAASQ,IAAT,iBAAuBjC,EAAvB,aADG,uBAClBO,EADkB,EAClBA,KADkB,kBAEnBA,EAAK+B,MAFc,2CAAH,sDAKZC,EAAe,mCAAG,WAAMvC,GAAN,yFACNyB,EAASQ,IAAT,iBAAuBjC,EAAvB,aADM,uBACrBO,EADqB,EACrBA,KADqB,kBAGtBA,EAAK2B,SAHiB,2CAAH,qD","sources":["webpack://react-homework-template/./src/pages/CastPage/castPage.module.css?5ee2","pages/CastPage/CastPage.jsx","shared/styles/services/movieApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"castWrapper\":\"castPage_castWrapper__gX0nq\"};","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getCastMovie } from 'shared/styles/services/movieApi';\nimport PropTypes from 'prop-types';\nimport css from '../CastPage/castPage.module.css';\n\nconst CastPage = () => {\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    const fetchCastMovie = async () => {\n      try {\n        setLoading(true);\n        const result = await getCastMovie(movieId);\n        // console.log(result);\n        setMovies(result);\n      } catch ({ response }) {\n        setError(response.data.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchCastMovie();\n  }, [movieId]);\n\n  const elements = movies.map(\n    ({ id, character, original_name, profile_path }) => (\n      <li key={id}>\n        <img\n          width=\"100\"\n          height=\"130\"\n          src={\n            profile_path\n              ? 'https://image.tmdb.org/t/p/w500' + profile_path\n              : 'https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png'\n          }\n          alt={original_name}\n        />\n        <p>{original_name}</p>\n        <p>Character: {character}</p>\n      </li>\n    )\n  );\n  return (\n    <>\n      {loading && <p>...loading</p>}\n      {error && <p>Error</p>}\n      {movies && (\n        <div className={css.castWrapper}>\n          <ul>{elements}</ul>\n        </div>\n      )}\n      {movies.length === 0 && (\n        <div>We don't have any actors for this movie</div>\n      )}\n    </>\n  );\n};\nexport default CastPage;\n\nCastPage.defaultProps = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      character: PropTypes.string.isRequired,\n      original_name: PropTypes.string.isRequired,\n      profile_path: PropTypes.string.isRequired,\n    }).isRequired\n  ).isRequired,\n};","import axios from 'axios';\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: '4a2018560b79424f21a897c5cf387007',\n    language: 'en-US',\n  },\n});\n\nexport const getPopularMovie = async (page = 1) => {\n  const { data } = await instance.get(\n    '/trending/movie/day',\n    {\n      params: {\n        page,\n      },\n    }\n  );\n  return data.results;\n};\n\nexport const getDetailsMovie = async movieId => {\n  const { data } = await instance.get(`/movie/${movieId}`);\n  return data;\n};\n\nexport const getSearchMovie = async query => {\n  const { data } = await instance.get(`/search/movie`, {\n    params: {\n      query,\n    },\n  });\n  return data.results;\n};\n\nexport const getCastMovie = async movieId => {\n  const { data } = await instance.get(`/movie/${movieId}/credits`);\n  return data.cast;\n};\n\nexport const getReviewsMovie = async movieId => {\n  const { data } = await instance.get(`/movie/${movieId}/reviews`);\n  \n  return data.results;\n};"],"names":["CastPage","useState","movies","setMovies","loading","setLoading","error","setError","movieId","useParams","useEffect","fetchCastMovie","getCastMovie","result","response","data","message","elements","map","id","character","original_name","profile_path","width","height","src","alt","className","css","length","defaultProps","PropTypes","isRequired","instance","axios","baseURL","params","api_key","language","getPopularMovie","page","get","results","getDetailsMovie","getSearchMovie","query","cast","getReviewsMovie"],"sourceRoot":""}